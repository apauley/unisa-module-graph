digraph ComputationalIntelligence {
    node [shape=box];
    rankdir=LR;

    subgraph cluster3 {
        label = "Third-level modules";

        {rank=same;
        COS301Y INF320E COS351D COS361F PYC303B}

        {rank=same; node [shape=ellipse];
        COS3114 [style=filled]
        MAT307Y COS340A
        INF303D
        LIN3028}
    }

    {rank=same;
    COS201V
    {node [style=filled]; COS211X COS261C COS2144}}

    {rank=same; node [shape=ellipse];
    PLS207B
    MAT212S [style=filled]
    COS2213 [style=filled]
    LIN309F}

    MAT103OR151 [label="Requires\none of...", style=dashed];

    subgraph cluster1 {
        label = "First-level modules";

        {rank=same;
        {node [style=filled];
              COS101S COS112V COS113W INF1208 MAT1511 MAT1512
              PYC101Y COS111U STA1510 CSS101H}
        EUP1501}

        {rank=same; node [shape=ellipse];
            {node [style=filled];
                MAT103N DSC1510 LIN101W}}
    }


    subgraph cluster0 {
        rankdir=LR;
        label = "Legend";

        Module1 [label=""];
        Module2 [label=""];
        Module3 [label=""];
        Module4 [label=""];
        Module2 -> Module1 [label="Requirement"]
        Module4 -> Module3 [label="Suggestion", style=dashed]

        Required;
        Completed [style=filled];
        Optional [shape=ellipse];
        Required -> Optional [color=white];
        Optional -> Completed [color=white];
    }


    COS301Y -> {COS201V}
    INF320E -> {INF1208}
    COS351D -> {COS211X COS261C}
    COS361F -> {COS261C}
    PYC303B -> {PYC101Y}

    COS3114 -> {COS211X COS2144}
    MAT307Y -> {MAT212S COS201V} [style=dashed]
    INF303D -> {COS211X}
    LIN3028 -> {LIN101W} [style=dashed]
    COS340A -> {COS211X MAT103N}


    COS201V -> {COS101S}
    COS211X -> {COS112V}
    COS261C -> {COS101S}
    COS2144 -> {COS112V}

    {rank=same; COS2213 COS211X}
    COS2213 -> {COS112V COS113W}
    COS2213 -> {COS211X}
    MAT212S -> {MAT103OR151}
    MAT103OR151 -> {MAT103N MAT1511}
    LIN309F -> {LIN101W} [style=dashed]
    PLS207B -> {PYC101Y}
}
